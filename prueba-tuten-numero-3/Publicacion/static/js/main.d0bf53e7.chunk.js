(this["webpackJsonpprueba-tuten-num-3"]=this["webpackJsonpprueba-tuten-num-3"]||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){},76:function(e){e.exports=JSON.parse('{"URL":"https://dev.tuten.cl:443/TutenREST/rest/user/testapis%40tuten.cl","Method":"PUT","Body":{},"Headers":{"Content-Type":"application/json","Accept":"application/json","App":"APP_BCK","Password":"1234"},"TokenName":"sessionTokenBck"}')},77:function(e){e.exports=JSON.parse('{"URL":"https://dev.tuten.cl:443/TutenREST/rest/user/contacto%40tuten.cl/bookings?current=true&adminemail=testapis@tuten.cl&email=contacto@tuten.cl&app=APP_BCK&token=testapis@tuten.clqbfdobdbhfv9ubhbbbos5fieoq","Method":"GET","Body":{},"Headers":{"Content-Type":"application/json","Accept":"application/json","App":"APP_BCK","Adminemail":"testapis@tuten.cl","Token":""}}')},79:function(e,t,n){"use strict";n.r(t);var r=n(3),s=n(0),a=n.n(s),i=n(5),o=n.n(i),c=(n(36),n.p,n(37),n(14)),l=n.n(c),u=n(16),d=n(17),p=n(11),h=n(26),b=n(25);function j(){return(j=Object(u.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="GET"==t.Method?{method:t.Method,headers:new Headers(t.Headers)}:{method:t.Method,body:t.Body,headers:new Headers(t.Headers)},e.next=3,fetch(t.URL,n).then((function(e){return null!==e&&void 0!==e&&200===e.status?e.json():(null===e?console.log("Valor de la respuesta  igual a nulo."):void 0===e?console.log("Valor de la respuesta igual a (undefined)"):console.log("Error estatus n\xfamero : "+e.status),"ERROR")})).catch((function(e){console.error(e)}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(e){return j.apply(this,arguments)},I=n(22),C=n.n(I),O=n(110),g=function(e,t){if(e.includes(">=")){var n=e.split(">=")[1].trim();if(parseInt(n)>=parseInt(t))return!0}else if(e.includes("<=")){var r=e.split("<=")[1].trim();if(parseInt(r)<=parseInt(t))return!0}else if(e.includes(">")){var s=e.split(">")[1].trim();if(parseInt(s)>parseInt(t))return!0}else if(e.includes("<")){var a=e.split("<")[1].trim();if(parseInt(a)<parseInt(t))return!0}else if(e.includes("==")){var i=e.split("==")[1].trim();if(parseInt(i)==parseInt(t))return!0}return!1},m=n(23),x=n.n(m),v=n(111),B=(n(75),n(107)),P=n(108),E=n(109),k=n(76),T=n(77),U=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).LlamadoServicioWeb=Object(u.a)(l.a.mark((function e(){var t,n,s,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({open:!0}),e.next=3,f(k);case 3:return t=e.sent,n=t[k.TokenName],T.Headers.Token=n,e.next=8,f(T);case 8:s=e.sent,a=[],s.forEach((function(e,t){console.log("Cliente n\xfamero :",++t),console.log("BookingId : ",e.bookingId),console.log("Cliente : ",e.tutenUserProfessional.tutenUser1.firstName,e.tutenUserProfessional.tutenUser1.lastName),console.log("Creaci\xf3n : ",e.bookingTime),console.log("Direcci\xf3n : ",e.locationId.streetAddress),console.log("Precio : ",e.bookingPrice);var n=e.tutenUserProfessional.tutenUser1.firstName,r=e.tutenUserProfessional.tutenUser1.lastName,s=new Date(e.bookingTime);console.log(s);var i=s.getFullYear(),o=["Enero","Febbrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][s.getMonth()],c=s.getDate()+" "+o+" "+i+" "+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds();a.push({BookingId:e.bookingId,Cliente:n+" , "+r,Creacion:c,Direccion:e.locationId.streetAddress,Precio:e.bookingPrice})})),console.log(a),console.log(s),r.setState({ListaClientes:a,ListaOriginalClientes:a,open:!1});case 14:case"end":return e.stop()}}),e)}))),r.BusquedaEnTabla=function(e){if((e=(e=(e=(e=(e=e.toUpperCase()).replace("&&","AND")).replace("&","AND")).replace("||","OR")).replace("|","OR")).includes("ID")||e.includes("PRECIO"))if(e.includes(">=")||e.includes("<=")||e.includes(">")||e.includes("<")||e.includes("==")){var t=[],n=r.state.ListaClientes;if(e.includes("AND")){var s=e.split("AND"),a=s[0].toUpperCase().trim(),i=s[1].toUpperCase().trim();if(a.includes("ID")&&i.includes("ID"))return void r.GenerarErrorCuadroBusqueda("Formato inv\xe1lido");if(a.includes("PRECIO")&&i.includes("PRECIO"))return void r.GenerarErrorCuadroBusqueda("Formato inv\xe1lido");n.forEach((function(e){var n=!1,r=!1;a.includes("ID")?(n=g(a,e.BookingId),r=g(i,e.Precio)):(r=g(a,e.Precio),n=g(i,e.BookingId)),n&&r&&t.push(e)}))}else if(e.includes("OR")){var o=e.split("OR");n.forEach((function(e){o.forEach((function(n){(n.includes("ID")&&g(n,e.BookingId)||g(n,e.Precio))&&t.push(e)}))}))}else t=r.ValidarBusqueda(e);void 0!==t&&null!==t&&r.setState({ListaClientes:t})}else r.GenerarErrorCuadroBusqueda("Formato inv\xe1lido");else r.GenerarErrorCuadroBusqueda("Formato inv\xe1lido")},r.ValidarBusqueda=function(e){var t=[];if(e.includes(">=")?t=e.split(">="):e.includes("<=")?t=e.split("<="):e.includes(">")?t=e.split(">"):e.includes("<")?t=e.split("<"):e.includes("==")&&(t=e.split("==")),n=t[1].trim(),/^-?[\d.]+(?:e-?\d+)?$/.test(n)){var n,s=r.state.ListaClientes,a=[],i=t[1].trim();return e.includes(">=")?s.forEach((function(e){(t[0].toUpperCase().includes("ID")&&parseInt(e.BookingId)>=parseInt(i)||t[0].toUpperCase().includes("PRECIO")&&parseInt(e.Precio)>=parseInt(i))&&a.push(e)})):e.includes("<=")?s.forEach((function(e){(t[0].toUpperCase().includes("ID")&&parseInt(e.BookingId)<=parseInt(i)||t[0].toUpperCase().includes("PRECIO")&&parseInt(e.Precio)<=parseInt(i))&&a.push(e)})):e.includes(">")?s.forEach((function(e){(t[0].toUpperCase().includes("ID")&&parseInt(e.BookingId)>parseInt(i)||t[0].toUpperCase().includes("PRECIO")&&parseInt(e.Precio)>parseInt(i))&&a.push(e)})):e.includes("<")?s.forEach((function(e){(t[0].toUpperCase().includes("ID")&&parseInt(e.BookingId)<parseInt(i)||t[0].toUpperCase().includes("PRECIO")&&parseInt(e.Precio)<parseInt(i))&&a.push(e)})):e.includes("==")&&s.forEach((function(e){(t[0].toUpperCase().includes("ID")&&parseInt(e.BookingId)==parseInt(i)||t[0].toUpperCase().includes("PRECIO")&&parseInt(e.Precio)==parseInt(i))&&a.push(e)})),a}r.GenerarErrorCuadroBusqueda("Se debe buscar por n\xfamero")},r.GenerarErrorCuadroBusqueda=function(e){r.setState({labelTextoBusqueda:e,error:!0})},r.state={ListaClientes:[],ListaOriginalClientes:[],open:!1,textoBusqueda:"",labelTextoBusqueda:"Buscar en la tabla",error:!1},r}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{children:[Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(B.a,{color:"primary",onClick:this.LlamadoServicioWeb,children:"Buscar"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsxs)(P.a,{children:[Object(r.jsx)(E.a,{children:Object(r.jsx)(v.a,{id:"outlined-basic",error:this.state.error,label:this.state.labelTextoBusqueda,variant:"outlined",value:this.state.textoBusqueda,onChange:function(t){e.setState({labelTextoBusqueda:"Buscar en la tabla",error:!1,textoBusqueda:t.target.value}),console.log(t.target.value)}})}),Object(r.jsx)(E.a,{children:Object(r.jsx)(B.a,{color:"primary",onClick:function(){var t=e.state.textoBusqueda;0!==t.length?0!==e.state.ListaClientes.length?e.BusquedaEnTabla(t):e.GenerarErrorCuadroBusqueda("Debe buscar datos"):e.GenerarErrorCuadroBusqueda("Debe indicar una condici\xf3n")},children:"Buscar"})}),Object(r.jsx)(E.a,{children:Object(r.jsx)(B.a,{color:"primary",onClick:function(){e.setState({labelTextoBusqueda:"Buscar en la tabla",error:!1,textoBusqueda:"",ListaClientes:e.state.ListaOriginalClientes})},children:"Limpiar"})})]}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsxs)(O.a,{autoWidth:!0,striped:!0,bordered:!0,hover:!0,small:!0,responsive:!0,children:[Object(r.jsx)("thead",{textWhite:!0,children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"BookingId"}),Object(r.jsx)("th",{children:"Cliente"}),Object(r.jsx)("th",{children:"Fecha Creaci\xf3n"}),Object(r.jsx)("th",{children:"Direcci\xf3n"}),Object(r.jsx)("th",{children:"Precio"})]})}),Object(r.jsx)("tbody",{children:this.state.ListaClientes.slice(0,100).map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.BookingId}),Object(r.jsx)("td",{children:e.Cliente}),Object(r.jsx)("td",{children:e.Creacion}),Object(r.jsx)("td",{children:e.Direccion}),Object(r.jsx)("td",{children:e.Precio})]})}))})]}),Object(r.jsxs)(x.a,{info:!0,show:this.state.open,showCancel:!1,showConfirm:!1,showCloseButton:!1,title:"Procesando la informaci\xf3n",children:["Espere mientra se realiza la consulta solicitada",Object(r.jsx)(C.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:3e3})]})]})}}]),n}(s.Component);var q=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(U,{})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,112)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),a(e),i(e)}))};o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(q,{})}),document.getElementById("root")),D()}},[[79,1,2]]]);
//# sourceMappingURL=main.d0bf53e7.chunk.js.map